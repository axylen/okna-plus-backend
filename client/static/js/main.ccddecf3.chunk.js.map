{"version":3,"sources":["lib/project/calcArea.js","lib/project/calcPrice.js","lib/project/getOpenToText.js","lib/project/getOpenToValues.js","lib/misc/ifNotNull.js","lib/misc/objToArr.js","lib/misc/deepCopy.js","lib/misc/objDiff.js","lib/misc/arrToObj.js","lib/index.js","Components/RangeInput/RangeInput.jsx","Components/MainPage/Card/Card.jsx","lib/cartContext.js","Components/Navbar/Navbar.jsx","Components/PageLayout/PageLayout.jsx","Components/MainPage/MainPage.jsx","Components/ConfigurationPage/Blueprint/BlueprintCanvas.jsx","Components/ConfigurationPage/Blueprint/Blueprint.jsx","Components/SelectInput.jsx","Components/ConfigurationPage/WindowOptions/WindowOptions.jsx","Components/ConfigurationPage/Params/Params.jsx","Components/ConfigurationPage/ConfigurationPage.jsx","Components/Admin/Login/Login.jsx","Components/Admin/Admin.jsx","Components/ProductCard/ProductCard.jsx","Components/Cart/Cart.jsx","Components/App.jsx","serviceWorker.js","index.js"],"names":["calcArea","params","width","height","getPrice","fields","prices","key","field","type","values","price","getPriceList","cPrices","_loop","Array","isArray","reduce","acc","window","val","openTo","mosquitoNet","getCurrentPrices","area","costPerSqrM","profile","glass","calcPrice","getOpenToText","getOpenToValues","newVal","Object","objectSpread","blank","text","tilt","turn","tiltAndTurn","ifNotNull","obj","cb","objToArr","arguments","length","undefined","arr","push","deepCopy","el","newEl","compareObject","obj1","obj2","newObj","diffrent","res","arrayToObject","getObjectKey","modifyObject","forEach","id","__webpack_require__","d","__webpack_exports__","misc_deepCopy","objDiff","arrToObj","RangeInput","props","_this","D_okna_plus_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","D_okna_plus_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","D_okna_plus_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","changeValue","e","onChange","value","target","setState","onKeyPress","blur","isNaN","preventDefault","onBlur","_this$props","min","max","parseInt","state","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","assign","autoComplete","className","Component","Card","_ref","to","img","react_default","react_router_dom","src","alt","React","createContext","cart","editId","Navbar","backLink","useContext","cartContext","PageLayout","children","_props$backLink","Fragment","Navbar_Navbar","MainPage","_useState","useState","_useState2","slicedToArray","products","setProducts","useEffect","axios","get","then","data","productCards","map","p","Card_Card","product_key","image","name","PageLayout_PageLayout","Point","x","y","BlueprintCanvas","resolution","center","padding","canvasRef","createRef","colors","dark","mid","light","frame","x1","y1","x2","y2","ctx","clearRect","canvas","getContext","fontSize","Math","round","font","concat","textAlign","textBaseline","fillStyle","strokeStyle","save","_this2","_this$props$params","_len2","_key2","num","w","h","_this$ctx","strokeRect","apply","toConsumableArray","_this$ctx2","fillRect","beginPath","_len3","points","_key3","point","moveTo","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","lineTo","err","return","stroke","fillText","translate","clearCanvas","setDefaultCTX","drawFrame","drawDoor","drawWindows","_this$props$params2","_this$normalize$map","normalize","_this$normalize$map2","nWidth","nHeight","drawSize","_this$normalize","_this$rectWithPadding","rectWithPadding","_this$rectWithPadding2","topHeight","bottomHeight","restore","knobH","knobW","knobX","knobY","_this3","windows","windowWidth","windowWidthPx","drawWindow","widthPx","shift","_this$normalize3","winPadding","glassSize","drawGlass","framePading","_this$rectWithPadding3","_this$rectWithPadding4","windowCenterY","knobWidth","_this$normalize5","knobHeight","knobTop","openDir","split","includes","drawTiltLines","drawToRightLines","drawToLeftLines","xCenter","strokeLine","yCenter","_this$rectWithPadding5","_this$rectWithPadding6","position","String","Number","_this$frame","textPadding","X","Y","textCenter","textHalfWidth","rotate","PI","current","drawBlueprint","ref","style","maxWidth","maxHeight","Blueprint","BlueprintCanvas_BlueprintCanvas","SelectInput","options","rest","objectWithoutProperties","optionsList","opt","WindowOptions","checked","oldValue","defineProperty","_this$props2","label","Params","inputs","onWindowChange","getRangeInput","getWindowInputs","getSelectInput","generateInputs","addToCart","toFixed","onClick","_props","getOptionsArray","i","WindowOptions_WindowOptions_WindowOptions","count","ConfigurationPage","product","match","item","getDefaultParams","console","log","catch","history","getDefaultValue","keys","from","_this$state","Blueprint_Blueprint","Params_Params","Login","AdminPage","lazy","bind","Admin","matchUrl","url","react","fallback","react_router","path","component","ProductCard","cost","remove","paramsForCanvas","getValues","ParamsList","items","_params$key","Cart","_useContext","removeFromCart","sum","currentProduct","productParams","formatParam","ProductCard_ProductCard","newParam","_ref2","App","localStorage","setItem","JSON","stringify","filter","elId","parse","getItem","Provider","render","Components_ConfigurationPage_ConfigurationPage","Boolean","location","hostname","ReactDOM","Components_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.ccddecf3.chunk.js","sourcesContent":["export default params => (params.width * params.height) / 1000000;\r\n","import calcArea from './calcArea';\r\n\r\nfunction getPriceList(fields) {\r\n  const prices = {};\r\n\r\n  for (let key in fields) {\r\n    const field = fields[key];\r\n    if (field.type === 'range') continue;\r\n\r\n    const values = {};\r\n    prices[key] = values;\r\n\r\n    for (let key in field.values) {\r\n      values[key] = field.values[key].price || 0;\r\n    }\r\n  }\r\n\r\n  return prices;\r\n}\r\n\r\nfunction getCurrentPrices(fields, params) {\r\n  const prices = getPriceList(fields);\r\n  const cPrices = {};\r\n\r\n  for (let key in params) {\r\n    let price = prices[key];\r\n    if (!price) continue;\r\n\r\n    if (!Array.isArray(params[key])) {\r\n      cPrices[key] = price[params[key]];\r\n      continue;\r\n    }\r\n\r\n    cPrices[key] = params[key].reduce((acc, window) => {\r\n      let val = price[window.openTo];\r\n\r\n      if (window.mosquitoNet) {\r\n        val += fields.window.mosquitoNet.price;\r\n      }\r\n\r\n      return acc + val;\r\n    }, 0);\r\n  }\r\n\r\n  return cPrices;\r\n}\r\n\r\nfunction getPrice(fields, params) {\r\n  const prices = getCurrentPrices(fields, params);\r\n\r\n  const area = calcArea(params);\r\n  const costPerSqrM = prices.profile + prices.glass;\r\n  delete prices.profile;\r\n  delete prices.glass;\r\n\r\n  let price = costPerSqrM * area;\r\n\r\n  for (let key in prices) {\r\n    price += prices[key];\r\n  }\r\n\r\n  return price;\r\n}\r\n\r\nexport default function(fields) {\r\n  return params => getPrice(fields, params);\r\n}\r\n","export default openTo => {\r\n  switch (openTo) {\r\n    case 'no':\r\n      return 'Глухое';\r\n    case 'tilt':\r\n      return 'Откидное';\r\n    case 'toLeft':\r\n      return 'Поворотное влево';\r\n    case 'toRight':\r\n      return 'Поворотное вправо';\r\n    case 'tilt_toLeft':\r\n      return 'Поворотно-откидное влево';\r\n    case 'tilt_toRight':\r\n      return 'Поворотно-откидное вправо';\r\n    default:\r\n      return undefined;\r\n  }\r\n};\r\n","import getOpenToText from './getOpenToText';\r\n\r\nexport default values => {\r\n  const newVal = {};\r\n\r\n  newVal['no'] = { ...values.blank, text: getOpenToText('no') };\r\n  newVal['tilt'] = { ...values.tilt, text: getOpenToText('tilt') };\r\n\r\n  newVal['toLeft'] = { ...values.turn, text: getOpenToText('toLeft') };\r\n  newVal['toRight'] = { ...values.turn, text: getOpenToText('toRight') };\r\n\r\n  newVal['tilt_toLeft'] = { ...values.tiltAndTurn, text: getOpenToText('tilt_toLeft') };\r\n  newVal['tilt_toRight'] = { ...values.tiltAndTurn, text: getOpenToText('tilt_toRight') };\r\n\r\n  return newVal;\r\n};\r\n","export default function(obj, cb) {\r\n  return obj ? cb(obj) : null;\r\n}\r\n","export default function(obj, cb = val => val) {\r\n  const arr = [];\r\n  for (const key in obj) {\r\n    arr.push(cb(obj[key], key));\r\n  }\r\n  return arr;\r\n}\r\n","function deepCopy(obj) {\r\n  const newEl = Array.isArray(obj) ? [] : {};\r\n\r\n  let el;\r\n  for (let key in obj) {\r\n    el = obj[key];\r\n    if (el && typeof el === 'object') {\r\n      el = deepCopy(el);\r\n    }\r\n    newEl[key] = el;\r\n  }\r\n  return newEl;\r\n}\r\n\r\nexport default deepCopy;\r\n","function compareObject(obj1, obj2) {\r\n  if (typeof obj1 !== 'object' && typeof obj2 !== 'object') {\r\n    return obj1 === obj2 ? undefined : obj2;\r\n  }\r\n\r\n  const newObj = {};\r\n  let diffrent = false;\r\n\r\n  for (let key in obj2) {\r\n    let res = compareObject(obj1[key], obj2[key]);\r\n    if (res === undefined) continue;\r\n\r\n    newObj[key] = res;\r\n    diffrent = true;\r\n  }\r\n\r\n  return diffrent ? newObj : undefined;\r\n}\r\n\r\nexport default compareObject;","function arrayToObject(arr, getObjectKey, modifyObject = el => el) {\r\n  const obj = {};\r\n  let key;\r\n\r\n  arr.forEach((el, id) => {\r\n    key = getObjectKey(el, id);\r\n    obj[key] = modifyObject(el, id);\r\n  });\r\n\r\n  return obj;\r\n}\r\n\r\nexport default arrayToObject;\r\n","export * from './project/';\r\nexport * from './misc/';\r\n","import React, { Component } from 'react';\r\n\r\nimport './RangeInput.css';\r\n\r\nexport default class RangeInput extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    let value = props.value;\r\n    if (value === undefined) value = props.min || 0;\r\n\r\n    this.state = { value };\r\n  }\r\n\r\n  changeValue = e => {\r\n    this.onChange(e);\r\n    this.props.onChange(e);\r\n  };\r\n\r\n  onChange = e => {\r\n    const value = e.target.value;\r\n    this.setState({ value });\r\n  };\r\n\r\n  onKeyPress = e => {\r\n    const key = e.key;\r\n    if (key === 'Enter') e.target.blur();\r\n    else if (isNaN(key)) e.preventDefault();\r\n  };\r\n\r\n  onBlur = e => {\r\n    const { min, max } = this.props;\r\n    let value = parseInt(e.target.value);\r\n    value = isNaN(value) ? this.props.value : value;\r\n    e.target.value = value <= min ? min : value >= max ? max : value;\r\n\r\n    this.changeValue(e);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <input\r\n        type=\"number\"\r\n        autoComplete=\"off\"\r\n        className=\"range-input\"\r\n        {...this.props}\r\n        value={this.state.value}\r\n        onKeyPress={this.onKeyPress}\r\n        onChange={this.onChange}\r\n        onBlur={this.onBlur}\r\n      />\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport './Card.css';\r\n\r\nexport default function Card({ to, img, text }) {\r\n  return (\r\n    <Link className=\"card\" to={to}>\r\n      <figure className=\"card__img-container\">\r\n        <img src={img} className=\"card__img\" alt={text} />\r\n      </figure>\r\n      <div className=\"card__info\">{text}</div>\r\n    </Link>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nexport default React.createContext({\r\n  cart: [],\r\n  editId: -1,\r\n});\r\n","import React, { useContext } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport './Navbar.css';\r\n\r\nimport cartContext from 'lib/cartContext';\r\n\r\nexport default function Navbar(props) {\r\n  let backLink = null;\r\n  const cart = useContext(cartContext);\r\n\r\n  if (props.backLink) {\r\n    backLink = (\r\n      <Link className=\"navbar__link navbar__link--back\" to={props.backLink}>\r\n        &lt; Назад\r\n      </Link>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <nav className=\"navbar\">\r\n      <div className=\"navbar__container\">\r\n        <Link to=\"/\">\r\n          <h2 className=\"navbar__header\">Окна-Плюс</h2>\r\n        </Link>\r\n        <Link to=\"/cart\" className=\"navbar__link\">\r\n          Корзина: {cart.cart.length}\r\n        </Link>\r\n        {backLink}\r\n      </div>\r\n    </nav>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport Navbar from '../Navbar/Navbar';\r\n\r\nimport './PageLayout.css';\r\n\r\nexport default function PageLayout(props) {\r\n  const { children, backLink = '/' } = props;\r\n\r\n  return (\r\n    <>\r\n      <Navbar backLink={backLink} />\r\n      <main className=\"page-layout-container\">{children}</main>\r\n    </>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nimport { ifNotNull } from 'lib';\r\n\r\nimport Card from './Card/Card';\r\nimport './MainPage.css';\r\nimport PageLayout from '../PageLayout/PageLayout';\r\n\r\nfunction MainPage() {\r\n  const [products, setProducts] = useState(null);\r\n\r\n  useEffect(() => {\r\n    axios.get('/api/products').then(res => {\r\n      setProducts(res.data);\r\n    });\r\n  }, []);\r\n\r\n  const productCards = ifNotNull(products, products =>\r\n    products.map(p => <Card key={p.product_key} img={p.image} text={p.name} to={p.product_key} />),\r\n  );\r\n\r\n  return (\r\n    <PageLayout backLink={null}>\r\n      <main className=\"main-container\">{productCards}</main>\r\n    </PageLayout>\r\n  );\r\n}\r\n\r\nexport default MainPage;\r\n","import React, { Component } from 'react';\r\n\r\nfunction Point(x, y) {\r\n  return { x, y };\r\n}\r\n\r\nexport default class BlueprintCanvas extends Component {\r\n  resolution = this.props.resolution || 1200;\r\n  center = this.resolution / 2;\r\n  padding = this.resolution / 10;\r\n\r\n  canvasRef = React.createRef();\r\n  colors = {\r\n    dark: '#505050',\r\n    mid: '#AAAAAA',\r\n    light: '#DDDDDD',\r\n  };\r\n  frame = {\r\n    x1: this.padding,\r\n    y1: this.padding,\r\n    x2: this.resolution - this.padding,\r\n    y2: this.resolution - this.padding,\r\n  };\r\n\r\n  clearCanvas() {\r\n    const { resolution, ctx } = this;\r\n    ctx.clearRect(0, 0, resolution, resolution);\r\n  }\r\n\r\n  setDefaultCTX() {\r\n    const ctx = this.canvas.getContext('2d');\r\n    this.ctx = ctx;\r\n\r\n    this.fontSize = Math.round(this.resolution / 30);\r\n    ctx.font = `${this.fontSize}px Arial`;\r\n    ctx.textAlign = 'center';\r\n    ctx.textBaseline = 'middle';\r\n    ctx.fillStyle = this.colors.dark;\r\n    ctx.strokeStyle = this.colors.dark;\r\n    ctx.save();\r\n  }\r\n\r\n  normalize(...arr) {\r\n    const { width, height } = this.props.params;\r\n    const max = Math.max(width, height);\r\n\r\n    return arr.map(num => (num / max) * this.resolution);\r\n  }\r\n\r\n  strokeRect(x, y, w, h) {\r\n    const params = [x, y, w, h].map(num => Math.round(num));\r\n    this.ctx.strokeRect(...params);\r\n  }\r\n\r\n  fillRect(x, y, w, h) {\r\n    const params = [x, y, w, h].map(num => Math.round(num));\r\n    this.ctx.fillRect(...params);\r\n  }\r\n\r\n  rectWithPadding(x, y, w, h, padding) {\r\n    x = x + padding;\r\n    y = y + padding;\r\n    w = w - padding * 2;\r\n    h = h - padding * 2;\r\n\r\n    return [x, y, w, h];\r\n  }\r\n\r\n  strokeLine(...points) {\r\n    this.ctx.beginPath();\r\n    const p = points.map(point => ({\r\n      x: Math.round(point.x),\r\n      y: Math.round(point.y),\r\n    }));\r\n\r\n    this.ctx.moveTo(p[0].x, p[0].y);\r\n\r\n    for (let point of p) {\r\n      this.ctx.lineTo(point.x, point.y);\r\n    }\r\n\r\n    this.ctx.stroke();\r\n  }\r\n\r\n  fillText(text, x, y) {\r\n    x = Math.round(x);\r\n    y = Math.round(y);\r\n    this.ctx.fillText(text, x, y);\r\n  }\r\n\r\n  translate(x, y) {\r\n    x = Math.round(x);\r\n    y = Math.round(y);\r\n    this.ctx.translate(x, y);\r\n  }\r\n\r\n  drawBlueprint() {\r\n    if (!this.canvas) return;\r\n    this.clearCanvas();\r\n    this.setDefaultCTX();\r\n\r\n    this.drawFrame();\r\n\r\n    if (this.props.type === 'door') {\r\n      this.drawDoor();\r\n    } else {\r\n      this.drawWindows();\r\n    }\r\n  }\r\n\r\n  drawFrame() {\r\n    const { center, padding } = this;\r\n\r\n    const { width, height } = this.props.params;\r\n    const [nWidth, nHeight] = this.normalize(width, height).map(num => num - padding);\r\n\r\n    const halfWidth = nWidth / 2;\r\n    const halfHeight = nHeight / 2;\r\n\r\n    const x = center - halfWidth;\r\n    const y = center - halfHeight;\r\n\r\n    this.strokeRect(x, y, nWidth, nHeight);\r\n    this.frame = {\r\n      x1: x,\r\n      y1: y,\r\n      x2: x + nWidth,\r\n      y2: y + nHeight,\r\n    };\r\n\r\n    this.drawSize(width, 0, nWidth);\r\n    this.drawSize(height, 0, nHeight, 'right');\r\n  }\r\n\r\n  drawDoor() {\r\n    const [padding] = this.normalize(60);\r\n\r\n    const frame = [\r\n      this.frame.x1,\r\n      this.frame.y1,\r\n      this.frame.x2 - this.frame.x1,\r\n      this.frame.y2 - this.frame.y1,\r\n    ];\r\n\r\n    const [x, y, w, h] = this.rectWithPadding(...frame, padding);\r\n\r\n    const topHeight = (h - padding) * 0.6;\r\n    const bottomHeight = h - topHeight - padding;\r\n\r\n    this.ctx.save();\r\n    this.ctx.fillStyle = this.colors.light;\r\n    this.fillRect(x, y, w, topHeight);\r\n    this.strokeRect(x, y, w, topHeight);\r\n    this.ctx.restore();\r\n\r\n    this.strokeRect(x, y + topHeight + padding, w, bottomHeight);\r\n\r\n    const knobH = this.normalize(84);\r\n    const knobW = padding / 3;\r\n    const knobX = x - knobW * 2;\r\n    const knobY = y + topHeight - knobH;\r\n\r\n    this.strokeRect(knobX, knobY, knobW, knobH);\r\n  }\r\n\r\n  drawWindows() {\r\n    const params = this.props.params;\r\n    const windows = params.window;\r\n    if (windows.length <= 0) return;\r\n\r\n    const windowWidth = Math.round(params.width / windows.length);\r\n    const windowWidthPx = (this.frame.x2 - this.frame.x1) / windows.length;\r\n\r\n    windows.forEach((window, id) => {\r\n      this.drawWindow(windowWidth, windowWidthPx, windowWidthPx * id, window);\r\n    });\r\n  }\r\n\r\n  drawWindow(width, widthPx, shift, { openTo, mosquitoNet }) {\r\n    this.drawSize(width, shift, widthPx, 'bottom');\r\n\r\n    const [winPadding] = this.normalize(openTo === 'no' ? 30 : 60);\r\n\r\n    this.ctx.save();\r\n    this.ctx.fillStyle = openTo !== 'no' && mosquitoNet ? this.colors.mid : this.colors.light;\r\n    const glassSize = this.drawGlass(widthPx, shift, winPadding);\r\n    this.ctx.restore();\r\n\r\n    if (openTo !== 'no') {\r\n      const framePading = winPadding / 1.35;\r\n\r\n      const [x, y, w, h] = this.rectWithPadding(...glassSize, -framePading);\r\n      this.strokeRect(x, y, w, h);\r\n\r\n      const windowCenterY = (y + h + y) / 2;\r\n      const knobWidth = framePading / 3;\r\n      const [knobHeight] = this.normalize(64);\r\n      const knobTop = windowCenterY - knobHeight / 2;\r\n\r\n      const openDir = openTo.split('_');\r\n\r\n      if (openDir.includes('toRight')) {\r\n        this.strokeRect(x + knobWidth, knobTop, knobWidth, knobHeight);\r\n      } else {\r\n        this.strokeRect(x + w - knobWidth * 2, knobTop, knobWidth, knobHeight);\r\n      }\r\n\r\n      if (openDir.includes('tilt')) {\r\n        this.drawTiltLines(...glassSize);\r\n      }\r\n      if (openDir.includes('toRight')) {\r\n        this.drawToRightLines(...glassSize);\r\n      }\r\n      if (openDir.includes('toLeft')) {\r\n        this.drawToLeftLines(...glassSize);\r\n      }\r\n    }\r\n  }\r\n\r\n  drawTiltLines(x1, y1, w, h) {\r\n    const x2 = x1 + w;\r\n    const y2 = y1 + h;\r\n    const xCenter = (x2 + x1) / 2;\r\n\r\n    this.strokeLine(Point(x1, y2), Point(xCenter, y1), Point(x2, y2));\r\n  }\r\n\r\n  drawToRightLines(x1, y1, w, h) {\r\n    const x2 = x1 + w;\r\n    const y2 = y1 + h;\r\n    const yCenter = (y2 + y1) / 2;\r\n\r\n    this.strokeLine(Point(x2, y1), Point(x1, yCenter), Point(x2, y2));\r\n  }\r\n\r\n  drawToLeftLines(x1, y1, w, h) {\r\n    const x2 = x1 + w;\r\n    const y2 = y1 + h;\r\n    const yCenter = (y2 + y1) / 2;\r\n\r\n    this.strokeLine(Point(x1, y1), Point(x2, yCenter), Point(x1, y2));\r\n  }\r\n\r\n  drawGlass(width, shift, padding) {\r\n    let x = this.frame.x1 + shift;\r\n    let y = this.frame.y1;\r\n    let w = width;\r\n    let h = this.frame.y2 - this.frame.y1;\r\n\r\n    [x, y, w, h] = this.rectWithPadding(x, y, w, h, padding);\r\n\r\n    this.fillRect(x, y, w, h);\r\n    this.strokeRect(x, y, w, h);\r\n    return [x, y, w, h];\r\n  }\r\n\r\n  drawSize(text, shift, width, position = 'top') {\r\n    text = String(text);\r\n    shift = Number(shift);\r\n    width = Number(width);\r\n\r\n    const ctx = this.ctx;\r\n    const { x1, y1, x2, y2 } = this.frame;\r\n\r\n    let padding = this.resolution / 30;\r\n    const textPadding = this.resolution / 100;\r\n\r\n    if (position === 'bottom') padding = -padding;\r\n    let X = position === 'right' ? x2 : x1;\r\n    let Y = position === 'bottom' ? y2 : y1;\r\n\r\n    switch (position) {\r\n      case 'top':\r\n      case 'bottom':\r\n        X += shift;\r\n        break;\r\n      default:\r\n        Y += shift;\r\n        break;\r\n    }\r\n\r\n    const textCenter = width / 2;\r\n    const textHalfWidth = (this.fontSize * text.length) / 4 + textPadding;\r\n\r\n    ctx.save();\r\n    this.translate(X, Y);\r\n\r\n    if (position === 'right') ctx.rotate(Math.PI / 2);\r\n\r\n    this.fillText(text, width / 2, -padding);\r\n\r\n    this.strokeLine(\r\n      Point(0, -padding / 3),\r\n      Point(0, -padding),\r\n      Point(textCenter - textHalfWidth, -padding),\r\n    );\r\n    this.strokeLine(\r\n      Point(width, -padding / 3),\r\n      Point(width, -padding),\r\n      Point(textCenter + textHalfWidth, -padding),\r\n    );\r\n\r\n    ctx.restore();\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.canvas = this.canvasRef.current;\r\n    this.ctx = this.canvas.getContext('2d');\r\n\r\n    this.drawBlueprint();\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    this.drawBlueprint();\r\n  }\r\n\r\n  render() {\r\n    const resolution = this.resolution;\r\n\r\n    return (\r\n      <canvas\r\n        height={resolution}\r\n        width={resolution}\r\n        ref={this.canvasRef}\r\n        style={{ maxWidth: '100%', maxHeight: '80vh' }}\r\n      />\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\n\r\nimport './Blueprint.css';\r\nimport BlueprintCanvas from './BlueprintCanvas';\r\n\r\nexport default function Blueprint({ params, type }) {\r\n  return (\r\n    <div className=\"blueprint\">\r\n      <h2 className=\"subheading\">Чертёж</h2>\r\n      <BlueprintCanvas params={params} type={type} />\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\n/**\r\n * Возвращает элемент select со списком опций\r\n * @param {{options: [{value: string, text: string}]}} props\r\n */\r\nexport default function SelectInput(props) {\r\n  const { options, ...rest } = props;\r\n\r\n  const optionsList = options.map(opt => (\r\n    <option value={opt.value} key={opt.value}>\r\n      {String(opt.text)}\r\n    </option>\r\n  ));\r\n\r\n  return <select {...rest}>{optionsList}</select>;\r\n}\r\n","import React, { Component } from 'react';\r\n\r\nimport './WindowOptions.css';\r\nimport SelectInput from '../../SelectInput';\r\n\r\nexport default class WindowOptions extends Component {\r\n  onChange = ({ target }) => {\r\n    const value = target.type === 'checkbox' ? target.checked : target.value;\r\n    const name = target.name;\r\n\r\n    const { value: oldValue, onChange } = this.props;\r\n    onChange({ ...oldValue, [name]: value });\r\n  };\r\n\r\n  mosquitoNet = () => (\r\n    <label className=\"window-options__checkbox\">\r\n      Москитная сетка:\r\n      <input\r\n        type=\"checkbox\"\r\n        name=\"mosquitoNet\"\r\n        value={this.props.value.mosquitoNet}\r\n        onChange={this.onChange}\r\n      />\r\n    </label>\r\n  );\r\n\r\n  render() {\r\n    const { value, label, options } = this.props;\r\n\r\n    return (\r\n      <label className=\"window-options\">\r\n        <span className=\"window-options__caption\">{label}</span>\r\n        <SelectInput\r\n          name=\"openTo\"\r\n          options={options}\r\n          value={value.openTo}\r\n          className=\"settings__input window-options__select\"\r\n          onChange={this.onChange}\r\n        />\r\n        {value.openTo === 'no' ? null : <this.mosquitoNet />}\r\n      </label>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\n\r\nimport './Params.css';\r\nimport SelectInput from '../../SelectInput';\r\nimport RangeInput from '../../RangeInput/RangeInput';\r\nimport WindowOptions from '../WindowOptions/WindowOptions';\r\nimport { objToArr } from 'lib';\r\n\r\nexport default function Params(props) {\r\n  const inputs = generateInputs(props);\r\n\r\n  const { area, price, addToCart } = props;\r\n\r\n  return (\r\n    <div className=\"settings\">\r\n      <h2 className=\"subheading\">Параметры</h2>\r\n      {inputs}\r\n      <div className=\"settings__info\">\r\n        <p>\r\n          <strong>Площадь:</strong> {area.toFixed(2)} м<sup>2</sup>\r\n        </p>\r\n        <p>\r\n          <strong>Цена:</strong> {price.toFixed(2)}р.\r\n        </p>\r\n        <button className=\"settings__add-to-chart\" onClick={addToCart}>\r\n          Добавить в корзину\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction generateInputs(props) {\r\n  const { onChange, onWindowChange, params, fields } = props;\r\n\r\n  const inputs = [];\r\n\r\n  for (let key in fields) {\r\n    const field = fields[key];\r\n    const type = field.type;\r\n\r\n    const props = {\r\n      key,\r\n      field,\r\n      value: params[key],\r\n    };\r\n\r\n    if (type === 'range') {\r\n      inputs.push(getRangeInput(props, onChange));\r\n    } else if (type === 'select-window') {\r\n      inputs.push(...getWindowInputs(props, onWindowChange));\r\n    } else if (type === 'select') {\r\n      inputs.push(getSelectInput(props, onChange));\r\n    }\r\n  }\r\n\r\n  return inputs;\r\n}\r\n\r\nfunction getRangeInput(props, onChange) {\r\n  const { key, field, value } = props;\r\n\r\n  const _props = {\r\n    name: key,\r\n    min: field.min,\r\n    max: field.max,\r\n    value,\r\n    onChange,\r\n  };\r\n\r\n  return (\r\n    <label key={key}>\r\n      {field.label}:\r\n      <RangeInput {..._props} />\r\n      мм\r\n    </label>\r\n  );\r\n}\r\n\r\nfunction getOptionsArray(values) {\r\n  return objToArr(values, (val, key) => ({\r\n    value: key,\r\n    text: val.text,\r\n  }));\r\n}\r\n\r\nfunction getSelectInput(props, onChange) {\r\n  const { key, field, value } = props;\r\n\r\n  const _props = {\r\n    name: key,\r\n    options: getOptionsArray(field.values),\r\n    value,\r\n    onChange,\r\n  };\r\n\r\n  return (\r\n    <label key={key}>\r\n      {field.label}\r\n      <SelectInput {..._props} className=\"settings__input\" />\r\n    </label>\r\n  );\r\n}\r\n\r\nfunction getWindowInputs(props, onChange) {\r\n  const { key, field, value } = props;\r\n\r\n  const options = getOptionsArray(field.values);\r\n  const inputs = [];\r\n\r\n  for (let i = 0; i < field.count; i++) {\r\n    const _props = {\r\n      key: `${key}_${i}`,\r\n      label: `${field.label} ${i + 1}`,\r\n      options,\r\n      value: value[i],\r\n      onChange: window => onChange(window, i),\r\n    };\r\n\r\n    inputs.push(<WindowOptions {..._props} />);\r\n  }\r\n\r\n  return inputs;\r\n}\r\n","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\n\r\nimport './ConfigurationPage.css';\r\nimport Blueprint from './Blueprint/Blueprint';\r\nimport Params from './Params/Params';\r\nimport PageLayout from '../PageLayout/PageLayout';\r\nimport { calcPrice, calcArea, getOpenToValues } from 'lib';\r\n\r\nclass ConfigurationPage extends Component {\r\n  state = {\r\n    params: null,\r\n    product: null,\r\n    type: null,\r\n  };\r\n\r\n  componentDidMount() {\r\n    axios\r\n      .get(`/api/products/${this.props.match.params.item}`)\r\n      .then(({ data: product }) => {\r\n        const { fields, type } = product;\r\n\r\n        if (fields.window) {\r\n          fields.window.values = getOpenToValues(fields.window.values);\r\n        }\r\n\r\n        this.getPrice = calcPrice(fields);\r\n        const params = this.getDefaultParams(fields);\r\n\r\n        this.setState({ type, product, params }, () => console.log(this.state));\r\n      })\r\n      .catch(err => {\r\n        this.props.history.push('/');\r\n      });\r\n  }\r\n\r\n  getDefaultParams(fields) {\r\n    const values = {};\r\n\r\n    for (let key in fields) {\r\n      values[key] = this.getDefaultValue(fields[key]);\r\n    }\r\n\r\n    return values;\r\n  }\r\n\r\n  getDefaultValue(field) {\r\n    switch (field.type) {\r\n      case 'range':\r\n        return field.min;\r\n      case 'select':\r\n        return Object.keys(field.values)[0];\r\n      case 'select-window':\r\n        return Array.from({ length: field.count }, () => ({\r\n          openTo: Object.keys(field.values)[0],\r\n          mosquitoNet: false,\r\n        }));\r\n      default:\r\n        return null;\r\n    }\r\n  }\r\n\r\n  onChange = e => {\r\n    const target = e.target;\r\n    const value = target.type === 'checkbox' ? target.checked : target.value;\r\n    const name = target.name;\r\n\r\n    const params = { ...this.state.params };\r\n    params[name] = value;\r\n\r\n    this.setState({ params });\r\n  };\r\n\r\n  onWindowChange = (window, id) => {\r\n    const params = { ...this.state.params };\r\n    const windows = [...params.window];\r\n    windows[id] = window;\r\n    params.window = windows;\r\n\r\n    this.setState({ params });\r\n  };\r\n\r\n  addToCart = () => {\r\n    this.props.addToCart({\r\n      params: this.state.params,\r\n      count: 1,\r\n      key: this.props.match.params.item,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    if (!this.state.product) return <PageLayout>Загрузка...</PageLayout>;\r\n\r\n    const { type, product, params } = this.state;\r\n    const { name, fields } = product;\r\n\r\n    const price = this.getPrice(params);\r\n    const area = calcArea(params);\r\n\r\n    return (\r\n      <PageLayout>\r\n        <div>\r\n          <h1 className=\"heading\">{name}</h1>\r\n\r\n          <div className=\"params-container\">\r\n            <Blueprint params={this.state.params} type={type} />\r\n            <Params\r\n              onChange={this.onChange}\r\n              onWindowChange={this.onWindowChange}\r\n              params={params}\r\n              fields={fields}\r\n              price={price}\r\n              area={area}\r\n              addToCart={this.addToCart}\r\n            />\r\n          </div>\r\n        </div>\r\n      </PageLayout>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ConfigurationPage;\r\n","import React from 'react';\r\nimport './Login.css';\r\n\r\nexport default function Login(props) {\r\n  return (\r\n    <div className=\"login__wrapper\">\r\n      <form className=\"login__form\">\r\n        <h2>Войти</h2>\r\n        <label>\r\n          <h5>Пароль</h5>\r\n          <input type=\"password\" className=\"login__input\" />\r\n        </label>\r\n        <button className=\"login__btn\">Войти</button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n","import React, { Suspense } from 'react';\r\nimport { Route, Switch } from 'react-router-dom';\r\n\r\nimport Login from './Login/Login';\r\nconst AdminPage = React.lazy(() => import('./AdminPage/AdminPage'));\r\n\r\nexport default function Admin(props) {\r\n  const matchUrl = props.match.url;\r\n\r\n  // Если не залогинился - перенаправить на страницу логина\r\n  // Если залогинился - перенаправить на страницу с ценами\r\n\r\n  return (\r\n    <div>\r\n      <Suspense fallback=\"Загрузка...\">\r\n        <Switch>\r\n          <Route path={matchUrl + '/login'} component={Login} />\r\n          <Route path={matchUrl + '/'} component={AdminPage} />\r\n        </Switch>\r\n      </Suspense>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport './ProductCard.css';\r\nimport BlueprintCanvas from '../ConfigurationPage/Blueprint/BlueprintCanvas';\r\n\r\nexport default function ProductCard(props) {\r\n  const { name, type, params, count, cost, area, remove } = props;\r\n  const paramsForCanvas = getValues(params);\r\n\r\n  return (\r\n    <div className=\"product-card\">\r\n      <div className=\"product-card__info\">\r\n        <div className=\"product-card__header\">\r\n          <h2 className=\"product-card__name\">{name}</h2>\r\n          <button className=\"product-card__button\">Изменить</button>\r\n          <button className=\"product-card__button\" onClick={remove}>Удалить</button>\r\n        </div>\r\n        <ul className=\"product-card__params\">\r\n          <ParamsList params={params} />\r\n          <li>\r\n            <strong>Площадь:</strong> {area} м<sup>2</sup>\r\n          </li>\r\n        </ul>\r\n        <div className=\"product-card__final-info\">\r\n          <span>\r\n            <strong>Стоимость:</strong> {cost} руб.\r\n          </span>\r\n          <span className=\"final-info__count\">\r\n            <strong>Количество:</strong> {count}\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <div className=\"product-card__image\">\r\n        <BlueprintCanvas params={paramsForCanvas} type={type} resolution=\"600\" />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction getValues(params) {\r\n  const values = {};\r\n\r\n  for (let key in params) {\r\n    values[key] = params[key].value.value;\r\n  }\r\n\r\n  return values;\r\n}\r\n\r\nfunction ParamsList({ params }) {\r\n  const items = [];\r\n\r\n  for (let key in params) {\r\n    const { name, value } = params[key];\r\n\r\n    if (!Array.isArray(value.text)) {\r\n      items.push(\r\n        <li key={key}>\r\n          <strong>{name}:</strong> {value.text}\r\n        </li>,\r\n      );\r\n      continue;\r\n    }\r\n\r\n    items.push(\r\n      value.text.map((text, id) => {\r\n        return (\r\n          <li key={key + id}>\r\n            <strong>{`${name} ${id + 1}`}:</strong> {text}\r\n          </li>\r\n        );\r\n      }),\r\n    );\r\n  }\r\n\r\n  return items;\r\n}\r\n","import React, { useEffect, useContext, useState } from 'react';\r\nimport PageLayout from '../PageLayout/PageLayout';\r\nimport ProductCard from '../ProductCard/ProductCard';\r\n\r\nimport './Cart.css';\r\n\r\nimport axios from 'axios';\r\n\r\nimport cartContext from 'lib/cartContext';\r\nimport {\r\n  arrToObj as arrayToObject,\r\n  calcArea,\r\n  calcPrice,\r\n  deepCopy,\r\n  getOpenToValues,\r\n  getOpenToText,\r\n} from 'lib';\r\n\r\nexport default function Cart() {\r\n  const { cart, removeFromCart } = useContext(cartContext);\r\n  const [products, setProducts] = useState(null);\r\n\r\n  useEffect(() => {\r\n    axios.get('/api/products?extended=1').then(({ data }) => {\r\n      data.forEach(product => {\r\n        const fields = product.fields;\r\n        if (fields.window) {\r\n          fields.window.values = getOpenToValues(fields.window.values);\r\n        }\r\n      });\r\n\r\n      setProducts(arrayToObject(data, el => el.product_key));\r\n    });\r\n  }, [cart]);\r\n\r\n  let sum = 0;\r\n\r\n  function porductCards() {\r\n    return cart.map((currentProduct, id) => {\r\n      const { params, count } = currentProduct;\r\n      const product = products[currentProduct.key];\r\n\r\n      const fields = product.fields;\r\n      const cost = +calcPrice(fields)(params).toFixed(2);\r\n      sum += cost * count;\r\n\r\n      const productParams = {\r\n        name: product.name,\r\n        type: product.type,\r\n        area: calcArea(params),\r\n        params: {},\r\n        count,\r\n        cost,\r\n      };\r\n\r\n      for (let key in params) {\r\n        productParams.params[key] = formatParam(params[key], fields[key]);\r\n      }\r\n\r\n      return (\r\n        <React.Fragment key={id}>\r\n          <hr />\r\n          <ProductCard {...productParams} remove={() => removeFromCart(id)} />\r\n        </React.Fragment>\r\n      );\r\n    });\r\n  }\r\n\r\n  if (cart.length === 0)\r\n    return (\r\n      <PageLayout>\r\n        <h1 className=\"heading\">Корзина (пусто)</h1>\r\n        Вы не выбрали ни одного товара.\r\n      </PageLayout>\r\n    );\r\n\r\n  return (\r\n    <PageLayout>\r\n      <h1 className=\"heading\">Корзина ({cart.length})</h1>\r\n\r\n      {products ? porductCards() : 'Загрузка...'}\r\n      <hr />\r\n      <div className=\"cart-footer\">\r\n        <div className=\"cart-footer__cost\">\r\n          <strong>Итого:</strong> {sum} руб.\r\n        </div>\r\n        <button className=\"btn\">Оформить заказ</button>\r\n      </div>\r\n    </PageLayout>\r\n  );\r\n}\r\n\r\nfunction formatParam(value, field) {\r\n  const newParam = { name: field.label };\r\n\r\n  if (field.type === 'range') {\r\n    newParam.value = { text: value, value };\r\n  } else if (field.type === 'select') {\r\n    newParam.value = { text: field.values[value].text, value };\r\n  } else if (field.type === 'select-window') {\r\n    newParam.value = {\r\n      text: value.map(({ openTo, mosquitoNet }) => {\r\n        let text = getOpenToText(openTo);\r\n        if (mosquitoNet) text += ', москитная сетка';\r\n\r\n        return text;\r\n      }),\r\n      value: deepCopy(value),\r\n    };\r\n  }\r\n\r\n  return newParam;\r\n}\r\n","import React, { Component } from 'react';\r\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\r\n\r\nimport MainPage from './MainPage/MainPage';\r\nimport ConfigurationPage from './ConfigurationPage/ConfigurationPage';\r\nimport Admin from './Admin/Admin';\r\nimport Cart from './Cart/Cart';\r\n\r\nimport cartContext from 'lib/cartContext';\r\n\r\nclass App extends Component {\r\n  state = {\r\n    cart: [],\r\n    editId: -1,\r\n  };\r\n\r\n  componentDidMount() {\r\n    const cart = JSON.parse(window.localStorage.getItem('cart')) || [];\r\n    this.setState({\r\n      cart,\r\n      addToCart: this.addToCart,\r\n      removeFromCart: this.removeFromCart,\r\n    });\r\n  }\r\n\r\n  addToCart = product => {\r\n    const cart = [...this.state.cart, product];\r\n    this.setState({ cart });\r\n    window.localStorage.setItem('cart', JSON.stringify(cart));\r\n  };\r\n\r\n  removeFromCart = id => {\r\n    const cart = this.state.cart.filter((el, elId) => elId !== id);\r\n    this.setState({ cart });\r\n    window.localStorage.setItem('cart', JSON.stringify(cart));\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"App\">\r\n        <cartContext.Provider value={this.state}>\r\n          <BrowserRouter>\r\n            <>\r\n              <Switch>\r\n                <Route path=\"/admin\" component={Admin} />\r\n                <Route path=\"/cart\" component={Cart} />\r\n                <Route\r\n                  path=\"/:item\"\r\n                  render={props => <ConfigurationPage {...props} addToCart={this.addToCart} />}\r\n                />\r\n                <Route path=\"/\" component={MainPage} />\r\n              </Switch>\r\n            </>\r\n          </BrowserRouter>\r\n        </cartContext.Provider>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './variables.css';\r\nimport './index.css';\r\nimport './global.css';\r\nimport App from './Components/App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}