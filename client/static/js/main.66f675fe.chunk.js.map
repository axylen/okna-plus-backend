{"version":3,"sources":["lib/project/calcArea.js","lib/project/calcPrice.js","lib/misc/ifNotNull.js","lib/misc/objToArr.js","lib/misc/deepCopy.js","lib/misc/objDiff.js","lib/misc/arrToObj.js","lib/index.js","Components/RangeInput/RangeInput.jsx","Components/MainPage/Card/Card.jsx","cartContext.js","Components/Navbar/Navbar.jsx","Components/PageLayout/PageLayout.jsx","Components/MainPage/MainPage.jsx","Components/ConfigurationPage/Blueprint/BlueprintCanvas.jsx","Components/ConfigurationPage/Blueprint/Blueprint.jsx","Components/SelectInput.jsx","Components/ConfigurationPage/WindowOptions/WindowOptions.jsx","Components/ConfigurationPage/Params/Params.jsx","Components/ConfigurationPage/ConfigurationPage.jsx","Components/Admin/Login/Login.jsx","Components/Admin/Admin.jsx","Components/ProductCard/ProductCard.jsx","Components/Cart/Cart.jsx","Components/App.jsx","serviceWorker.js","index.js"],"names":["calcArea","params","width","height","getPrice","fields","prices","key","field","type","values","price","getPriceList","cPrices","_loop","Array","isArray","reduce","acc","window","val","openTo","mosquitoNet","getCurrentPrices","area","costPerSqrM","profile","glass","calcPrice","ifNotNull","obj","cb","objToArr","arguments","length","undefined","arr","push","deepCopy","el","newEl","compareObject","obj1","obj2","newObj","diffrent","res","arrayToObject","getObjectKey","modifyObject","forEach","id","__webpack_require__","d","__webpack_exports__","misc_deepCopy","objDiff","arrToObj","RangeInput","props","_this","Object","D_okna_plus_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","D_okna_plus_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","D_okna_plus_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","changeValue","e","onChange","value","target","setState","onKeyPress","blur","isNaN","preventDefault","onBlur","_this$props","min","max","parseInt","state","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","assign","autoComplete","className","Component","Card","react_default","react_router_dom","to","src","img","alt","text","React","createContext","cart","editId","Navbar","backLink","useContext","cartContext","PageLayout","children","_props$backLink","Fragment","Navbar_Navbar","MainPage","_useState","useState","_useState2","slicedToArray","products","setProducts","useEffect","axios","get","then","data","productCards","map","p","Card_Card","product_key","image","name","PageLayout_PageLayout","Point","x","y","BlueprintCanvas","resolution","center","padding","canvasRef","createRef","colors","dark","mid","light","frame","x1","y1","x2","y2","ctx","clearRect","canvas","getContext","fontSize","Math","round","font","concat","textAlign","textBaseline","fillStyle","strokeStyle","save","_this2","_this$props$params","_len2","_key2","num","w","h","_this$ctx","strokeRect","apply","toConsumableArray","_this$ctx2","fillRect","beginPath","_len3","points","_key3","point","moveTo","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","lineTo","err","return","stroke","fillText","translate","clearCanvas","setDefaultCTX","drawFrame","drawDoor","drawWindows","_this$props$params2","_this$normalize$map","normalize","_this$normalize$map2","nWidth","nHeight","drawSize","_this$normalize","_this$rectWithPadding","rectWithPadding","_this$rectWithPadding2","topHeight","bottomHeight","restore","knobH","knobW","knobX","knobY","_this3","windows","windowWidth","windowWidthPx","drawWindow","widthPx","shift","_ref","_this$normalize3","winPadding","glassSize","drawGlass","framePading","_this$rectWithPadding3","_this$rectWithPadding4","windowCenterY","knobWidth","_this$normalize5","knobHeight","knobTop","openDir","split","includes","drawTiltLines","drawToRightLines","drawToLeftLines","xCenter","strokeLine","yCenter","_this$rectWithPadding5","_this$rectWithPadding6","position","String","Number","_this$frame","textPadding","X","Y","textCenter","textHalfWidth","rotate","PI","current","drawBlueprint","ref","style","maxWidth","maxHeight","Blueprint","BlueprintCanvas_BlueprintCanvas","SelectInput","options","rest","objectWithoutProperties","optionsList","opt","WindowOptions","checked","oldValue","objectSpread","defineProperty","_this$props2","label","Params","inputs","onWindowChange","getRangeInput","getWindowInputs","getSelectInput","generateInputs","addToCart","toFixed","onClick","_props","getOptionsArray","i","WindowOptions_WindowOptions_WindowOptions","count","ConfigurationPage","product","match","item","newVal","blank","tilt","turn","tiltAndTurn","getDefaultParams","console","log","catch","history","defValue","getDefaultValue","from","keys","_this$state","Blueprint_Blueprint","Params_Params","Login","AdminPage","lazy","bind","Admin","matchUrl","url","react","fallback","react_router","path","component","ProductCard","cost","paramsForCanvas","ParamsList","items","param","Cart","sum","prod","productParams","ProductCard_ProductCard","App","Provider","render","Components_ConfigurationPage_ConfigurationPage","Boolean","location","hostname","ReactDOM","Components_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.66f675fe.chunk.js","sourcesContent":["export default params => (params.width * params.height) / 1000000;\r\n","import calcArea from './calcArea';\r\n\r\nfunction getPriceList(fields) {\r\n  const prices = {};\r\n\r\n  for (let key in fields) {\r\n    const field = fields[key];\r\n    if (field.type === 'range') continue;\r\n\r\n    const values = {};\r\n    prices[key] = values;\r\n\r\n    for (let key in field.values) {\r\n      values[key] = field.values[key].price || 0;\r\n    }\r\n  }\r\n\r\n  return prices;\r\n}\r\n\r\nfunction getCurrentPrices(fields, params) {\r\n  const prices = getPriceList(fields);\r\n  const cPrices = {};\r\n\r\n  for (let key in params) {\r\n    let price = prices[key];\r\n    if (!price) continue;\r\n\r\n    if (!Array.isArray(params[key])) {\r\n      cPrices[key] = price[params[key]];\r\n      continue;\r\n    }\r\n\r\n    cPrices[key] = params[key].reduce((acc, window) => {\r\n      let val = price[window.openTo];\r\n\r\n      if (window.mosquitoNet) {\r\n        val += fields.window.mosquitoNet;\r\n      }\r\n\r\n      return acc + val;\r\n    }, 0);\r\n  }\r\n\r\n  return cPrices;\r\n}\r\n\r\nfunction getPrice(fields, params) {\r\n  const prices = getCurrentPrices(fields, params);\r\n\r\n  const area = calcArea(params);\r\n  const costPerSqrM = prices.profile + prices.glass;\r\n  delete prices.profile;\r\n  delete prices.glass;\r\n\r\n  let price = costPerSqrM * area;\r\n\r\n  for (let key in prices) {\r\n    price += prices[key];\r\n  }\r\n\r\n  return price;\r\n}\r\n\r\nexport default function(fields) {\r\n  return params => getPrice(fields, params);\r\n}\r\n","export default function(obj, cb) {\r\n  return obj ? cb(obj) : null;\r\n}\r\n","export default function(obj, cb = val => val) {\r\n  const arr = [];\r\n  for (const key in obj) {\r\n    arr.push(cb(obj[key], key));\r\n  }\r\n  return arr;\r\n}\r\n","function deepCopy(obj) {\r\n  const newEl = Array.isArray(obj) ? [] : {};\r\n\r\n  let el;\r\n  for (let key in obj) {\r\n    el = obj[key];\r\n    if (el && typeof el === 'object') {\r\n      el = deepCopy(el);\r\n    }\r\n    newEl[key] = el;\r\n  }\r\n  return newEl;\r\n}\r\n\r\nexport default deepCopy;\r\n","function compareObject(obj1, obj2) {\r\n  if (typeof obj1 !== 'object' && typeof obj2 !== 'object') {\r\n    return obj1 === obj2 ? undefined : obj2;\r\n  }\r\n\r\n  const newObj = {};\r\n  let diffrent = false;\r\n\r\n  for (let key in obj2) {\r\n    let res = compareObject(obj1[key], obj2[key]);\r\n    if (res === undefined) continue;\r\n\r\n    newObj[key] = res;\r\n    diffrent = true;\r\n  }\r\n\r\n  return diffrent ? newObj : undefined;\r\n}\r\n\r\nexport default compareObject;","function arrayToObject(arr, getObjectKey, modifyObject = el => el) {\r\n  const obj = {};\r\n  let key;\r\n\r\n  arr.forEach((el, id) => {\r\n    key = getObjectKey(el, id);\r\n    obj[key] = modifyObject(el, id);\r\n  });\r\n\r\n  return obj;\r\n}\r\n\r\nexport default arrayToObject;\r\n","export * from './project/';\r\nexport * from './misc/';\r\n","import React, { Component } from 'react';\r\n\r\nimport './RangeInput.css';\r\n\r\nexport default class RangeInput extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    let value = props.value;\r\n    if (value === undefined) value = props.min || 0;\r\n\r\n    this.state = { value };\r\n  }\r\n\r\n  changeValue = e => {\r\n    this.onChange(e);\r\n    this.props.onChange(e);\r\n  };\r\n\r\n  onChange = e => {\r\n    const value = e.target.value;\r\n    this.setState({ value });\r\n  };\r\n\r\n  onKeyPress = e => {\r\n    const key = e.key;\r\n    if (key === 'Enter') e.target.blur();\r\n    else if (isNaN(key)) e.preventDefault();\r\n  };\r\n\r\n  onBlur = e => {\r\n    const { min, max } = this.props;\r\n    let value = parseInt(e.target.value);\r\n    value = isNaN(value) ? this.props.value : value;\r\n    e.target.value = value <= min ? min : value >= max ? max : value;\r\n\r\n    this.changeValue(e);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <input\r\n        type=\"number\"\r\n        autoComplete=\"off\"\r\n        className=\"range-input\"\r\n        {...this.props}\r\n        value={this.state.value}\r\n        onKeyPress={this.onKeyPress}\r\n        onChange={this.onChange}\r\n        onBlur={this.onBlur}\r\n      />\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport './Card.css';\r\n\r\nexport default function Card(props) {\r\n  return (\r\n    <Link className=\"card\" to={props.to}>\r\n      <figure className=\"card__img-container\">\r\n        <img src={props.img} className=\"card__img\" alt={props.text} />\r\n      </figure>\r\n      <div className=\"card__info\">{props.text}</div>\r\n    </Link>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nexport default React.createContext({\r\n  cart: [],\r\n  editId: -1,\r\n});\r\n","import React, { useContext } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport './Navbar.css';\r\n\r\nimport cartContext from '../../cartContext';\r\n\r\nexport default function Navbar(props) {\r\n  let backLink = null;\r\n  const cart = useContext(cartContext);\r\n\r\n  if (props.backLink) {\r\n    backLink = (\r\n      <Link className=\"navbar__link navbar__link--back\" to={props.backLink}>\r\n        &lt; Назад\r\n      </Link>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <nav className=\"navbar\">\r\n      <div className=\"navbar__container\">\r\n        <Link to=\"/\">\r\n          <h2 className=\"navbar__header\">Окна-Плюс</h2>\r\n        </Link>\r\n        <Link to=\"/cart\" className=\"navbar__link\">\r\n          Корзина: {cart.cart.length}\r\n        </Link>\r\n        {backLink}\r\n      </div>\r\n    </nav>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport Navbar from '../Navbar/Navbar';\r\n\r\nimport './PageLayout.css';\r\n\r\nexport default function PageLayout(props) {\r\n  const { children, backLink = '/' } = props;\r\n\r\n  return (\r\n    <>\r\n      <Navbar backLink={backLink} />\r\n      <main className=\"page-layout-container\">{children}</main>\r\n    </>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nimport { ifNotNull } from 'lib';\r\n\r\nimport Card from './Card/Card';\r\nimport './MainPage.css';\r\nimport PageLayout from '../PageLayout/PageLayout';\r\n\r\nfunction MainPage() {\r\n  const [products, setProducts] = useState(null);\r\n\r\n  useEffect(() => {\r\n    axios.get('/api/products').then(res => {\r\n      setProducts(res.data);\r\n    });\r\n  }, [true]);\r\n\r\n  const productCards = ifNotNull(products, products =>\r\n    products.map(p => (\r\n      <Card\r\n        key={p.product_key}\r\n        img={p.image}\r\n        text={p.name}\r\n        to={p.product_key}\r\n      />\r\n    )),\r\n  );\r\n\r\n  return (\r\n    <PageLayout backLink={null}>\r\n      <main className=\"main-container\">{productCards}</main>\r\n    </PageLayout>\r\n  );\r\n}\r\n\r\nexport default MainPage;\r\n","import React, { Component } from 'react';\r\n\r\nfunction Point(x, y) {\r\n  return { x, y };\r\n}\r\n\r\nexport default class BlueprintCanvas extends Component {\r\n  resolution = this.props.resolution || 1200;\r\n  center = this.resolution / 2;\r\n  padding = this.resolution / 10;\r\n\r\n  canvasRef = React.createRef();\r\n  colors = {\r\n    dark: '#505050',\r\n    mid: '#AAAAAA',\r\n    light: '#DDDDDD',\r\n  };\r\n  frame = {\r\n    x1: this.padding,\r\n    y1: this.padding,\r\n    x2: this.resolution - this.padding,\r\n    y2: this.resolution - this.padding,\r\n  };\r\n\r\n  clearCanvas() {\r\n    const { resolution, ctx } = this;\r\n    ctx.clearRect(0, 0, resolution, resolution);\r\n  }\r\n\r\n  setDefaultCTX() {\r\n    const ctx = this.canvas.getContext('2d');\r\n    this.ctx = ctx;\r\n\r\n    this.fontSize = Math.round(this.resolution / 30);\r\n    ctx.font = `${this.fontSize}px Arial`;\r\n    ctx.textAlign = 'center';\r\n    ctx.textBaseline = 'middle';\r\n    ctx.fillStyle = this.colors.dark;\r\n    ctx.strokeStyle = this.colors.dark;\r\n    ctx.save();\r\n  }\r\n\r\n  normalize(...arr) {\r\n    const { width, height } = this.props.params;\r\n    const max = Math.max(width, height);\r\n\r\n    return arr.map(num => (num / max) * this.resolution);\r\n  }\r\n\r\n  strokeRect(x, y, w, h) {\r\n    const params = [x, y, w, h].map(num => Math.round(num));\r\n    this.ctx.strokeRect(...params);\r\n  }\r\n\r\n  fillRect(x, y, w, h) {\r\n    const params = [x, y, w, h].map(num => Math.round(num));\r\n    this.ctx.fillRect(...params);\r\n  }\r\n\r\n  rectWithPadding(x, y, w, h, padding) {\r\n    x = x + padding;\r\n    y = y + padding;\r\n    w = w - padding * 2;\r\n    h = h - padding * 2;\r\n\r\n    return [x, y, w, h];\r\n  }\r\n\r\n  strokeLine(...points) {\r\n    this.ctx.beginPath();\r\n    const p = points.map(point => ({\r\n      x: Math.round(point.x),\r\n      y: Math.round(point.y),\r\n    }));\r\n\r\n    this.ctx.moveTo(p[0].x, p[0].y);\r\n\r\n    for (let point of p) {\r\n      this.ctx.lineTo(point.x, point.y);\r\n    }\r\n\r\n    this.ctx.stroke();\r\n  }\r\n\r\n  fillText(text, x, y) {\r\n    x = Math.round(x);\r\n    y = Math.round(y);\r\n    this.ctx.fillText(text, x, y);\r\n  }\r\n\r\n  translate(x, y) {\r\n    x = Math.round(x);\r\n    y = Math.round(y);\r\n    this.ctx.translate(x, y);\r\n  }\r\n\r\n  drawBlueprint() {\r\n    if (!this.canvas) return;\r\n    this.clearCanvas();\r\n    this.setDefaultCTX();\r\n\r\n    this.drawFrame();\r\n\r\n    if (this.props.type === 'door') {\r\n      this.drawDoor();\r\n    } else {\r\n      this.drawWindows();\r\n    }\r\n  }\r\n\r\n  drawFrame() {\r\n    const { center, padding } = this;\r\n\r\n    const { width, height } = this.props.params;\r\n    const [nWidth, nHeight] = this.normalize(width, height).map(\r\n      num => num - padding,\r\n    );\r\n\r\n    const halfWidth = nWidth / 2;\r\n    const halfHeight = nHeight / 2;\r\n\r\n    const x = center - halfWidth;\r\n    const y = center - halfHeight;\r\n\r\n    this.strokeRect(x, y, nWidth, nHeight);\r\n    this.frame = {\r\n      x1: x,\r\n      y1: y,\r\n      x2: x + nWidth,\r\n      y2: y + nHeight,\r\n    };\r\n\r\n    this.drawSize(width, 0, nWidth);\r\n    this.drawSize(height, 0, nHeight, 'right');\r\n  }\r\n\r\n  drawDoor() {\r\n    const [padding] = this.normalize(60);\r\n\r\n    const frame = [\r\n      this.frame.x1,\r\n      this.frame.y1,\r\n      this.frame.x2 - this.frame.x1,\r\n      this.frame.y2 - this.frame.y1,\r\n    ];\r\n\r\n    const [x, y, w, h] = this.rectWithPadding(...frame, padding);\r\n\r\n    const topHeight = (h - padding) * 0.6;\r\n    const bottomHeight = h - topHeight - padding;\r\n\r\n    this.ctx.save();\r\n    this.ctx.fillStyle = this.colors.light;\r\n    this.fillRect(x, y, w, topHeight);\r\n    this.strokeRect(x, y, w, topHeight);\r\n    this.ctx.restore();\r\n\r\n    this.strokeRect(x, y + topHeight + padding, w, bottomHeight);\r\n\r\n    const knobH = this.normalize(84);\r\n    const knobW = padding / 3;\r\n    const knobX = x - knobW * 2;\r\n    const knobY = y + topHeight - knobH;\r\n\r\n    this.strokeRect(knobX, knobY, knobW, knobH);\r\n  }\r\n\r\n  drawWindows() {\r\n    const params = this.props.params;\r\n    const windows = params.window;\r\n    if (windows.length <= 0) return;\r\n\r\n    const windowWidth = Math.round(params.width / windows.length);\r\n    const windowWidthPx = (this.frame.x2 - this.frame.x1) / windows.length;\r\n\r\n    windows.forEach((window, id) => {\r\n      this.drawWindow(windowWidth, windowWidthPx, windowWidthPx * id, window);\r\n    });\r\n  }\r\n\r\n  drawWindow(width, widthPx, shift, { openTo, mosquitoNet }) {\r\n    this.drawSize(width, shift, widthPx, 'bottom');\r\n\r\n    const [winPadding] = this.normalize(openTo === 'no' ? 30 : 60);\r\n\r\n    this.ctx.save();\r\n    this.ctx.fillStyle =\r\n      openTo !== 'no' && mosquitoNet ? this.colors.mid : this.colors.light;\r\n    const glassSize = this.drawGlass(widthPx, shift, winPadding);\r\n    this.ctx.restore();\r\n\r\n    if (openTo !== 'no') {\r\n      const framePading = winPadding / 1.35;\r\n\r\n      const [x, y, w, h] = this.rectWithPadding(...glassSize, -framePading);\r\n      this.strokeRect(x, y, w, h);\r\n\r\n      const windowCenterY = (y + h + y) / 2;\r\n      const knobWidth = framePading / 3;\r\n      const [knobHeight] = this.normalize(64);\r\n      const knobTop = windowCenterY - knobHeight / 2;\r\n\r\n      const openDir = openTo.split('_');\r\n\r\n      if (openDir.includes('toRight')) {\r\n        this.strokeRect(x + knobWidth, knobTop, knobWidth, knobHeight);\r\n      } else {\r\n        this.strokeRect(x + w - knobWidth * 2, knobTop, knobWidth, knobHeight);\r\n      }\r\n\r\n      if (openDir.includes('tilt')) {\r\n        this.drawTiltLines(...glassSize);\r\n      }\r\n      if (openDir.includes('toRight')) {\r\n        this.drawToRightLines(...glassSize);\r\n      }\r\n      if (openDir.includes('toLeft')) {\r\n        this.drawToLeftLines(...glassSize);\r\n      }\r\n    }\r\n  }\r\n\r\n  drawTiltLines(x1, y1, w, h) {\r\n    const x2 = x1 + w;\r\n    const y2 = y1 + h;\r\n    const xCenter = (x2 + x1) / 2;\r\n\r\n    this.strokeLine(Point(x1, y2), Point(xCenter, y1), Point(x2, y2));\r\n  }\r\n\r\n  drawToRightLines(x1, y1, w, h) {\r\n    const x2 = x1 + w;\r\n    const y2 = y1 + h;\r\n    const yCenter = (y2 + y1) / 2;\r\n\r\n    this.strokeLine(Point(x2, y1), Point(x1, yCenter), Point(x2, y2));\r\n  }\r\n\r\n  drawToLeftLines(x1, y1, w, h) {\r\n    const x2 = x1 + w;\r\n    const y2 = y1 + h;\r\n    const yCenter = (y2 + y1) / 2;\r\n\r\n    this.strokeLine(Point(x1, y1), Point(x2, yCenter), Point(x1, y2));\r\n  }\r\n\r\n  drawGlass(width, shift, padding) {\r\n    let x = this.frame.x1 + shift;\r\n    let y = this.frame.y1;\r\n    let w = width;\r\n    let h = this.frame.y2 - this.frame.y1;\r\n\r\n    [x, y, w, h] = this.rectWithPadding(x, y, w, h, padding);\r\n\r\n    this.fillRect(x, y, w, h);\r\n    this.strokeRect(x, y, w, h);\r\n    return [x, y, w, h];\r\n  }\r\n\r\n  drawSize(text, shift, width, position = 'top') {\r\n    text = String(text);\r\n    shift = Number(shift);\r\n    width = Number(width);\r\n\r\n    const ctx = this.ctx;\r\n    const { x1, y1, x2, y2 } = this.frame;\r\n\r\n    let padding = this.resolution / 30;\r\n    const textPadding = this.resolution / 100;\r\n\r\n    if (position === 'bottom') padding = -padding;\r\n    let X = position === 'right' ? x2 : x1;\r\n    let Y = position === 'bottom' ? y2 : y1;\r\n\r\n    switch (position) {\r\n      case 'top':\r\n      case 'bottom':\r\n        X += shift;\r\n        break;\r\n      default:\r\n        Y += shift;\r\n        break;\r\n    }\r\n\r\n    const textCenter = width / 2;\r\n    const textHalfWidth = (this.fontSize * text.length) / 4 + textPadding;\r\n\r\n    ctx.save();\r\n    this.translate(X, Y);\r\n\r\n    if (position === 'right') ctx.rotate(Math.PI / 2);\r\n\r\n    this.fillText(text, width / 2, -padding);\r\n\r\n    this.strokeLine(\r\n      Point(0, -padding / 3),\r\n      Point(0, -padding),\r\n      Point(textCenter - textHalfWidth, -padding),\r\n    );\r\n    this.strokeLine(\r\n      Point(width, -padding / 3),\r\n      Point(width, -padding),\r\n      Point(textCenter + textHalfWidth, -padding),\r\n    );\r\n\r\n    ctx.restore();\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.canvas = this.canvasRef.current;\r\n    this.ctx = this.canvas.getContext('2d');\r\n\r\n    this.drawBlueprint();\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    this.drawBlueprint();\r\n  }\r\n\r\n  render() {\r\n    const resolution = this.resolution;\r\n\r\n    return (\r\n      <canvas\r\n        height={resolution}\r\n        width={resolution}\r\n        ref={this.canvasRef}\r\n        style={{ maxWidth: '100%', maxHeight: '80vh' }}\r\n      />\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\n\r\nimport './Blueprint.css';\r\nimport BlueprintCanvas from './BlueprintCanvas';\r\n\r\nexport default function Blueprint({ params, type }) {\r\n  return (\r\n    <div className=\"blueprint\">\r\n      <h2 className=\"subheading\">Чертёж</h2>\r\n      <BlueprintCanvas params={params} type={type} />\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\n/**\r\n * Возвращает элемент select со списком опций\r\n * @param {{options: [{value: string, text: string}]}} props\r\n */\r\nexport default function SelectInput(props) {\r\n  const { options, ...rest } = props;\r\n\r\n  const optionsList = options.map(opt => (\r\n    <option value={opt.value} key={opt.value}>\r\n      {String(opt.text)}\r\n    </option>\r\n  ));\r\n\r\n  return <select {...rest}>{optionsList}</select>;\r\n}\r\n","import React, { Component } from 'react';\r\n\r\nimport './WindowOptions.css';\r\nimport SelectInput from '../../SelectInput';\r\n\r\nexport default class WindowOptions extends Component {\r\n  onChange = ({ target }) => {\r\n    const value = target.type === 'checkbox' ? target.checked : target.value;\r\n    const name = target.name;\r\n\r\n    const { value: oldValue, onChange } = this.props;\r\n    onChange({ ...oldValue, [name]: value });\r\n  };\r\n\r\n  mosquitoNet = () => (\r\n    <label className=\"window-options__checkbox\">\r\n      Москитная сетка:\r\n      <input\r\n        type=\"checkbox\"\r\n        name=\"mosquitoNet\"\r\n        value={this.props.value.mosquitoNet}\r\n        onChange={this.onChange}\r\n      />\r\n    </label>\r\n  );\r\n\r\n  render() {\r\n    const { value, label, options } = this.props;\r\n\r\n    return (\r\n      <label className=\"window-options\">\r\n        <span className=\"window-options__caption\">{label}</span>\r\n        <SelectInput\r\n          name=\"openTo\"\r\n          options={options}\r\n          value={value.openTo}\r\n          className=\"settings__input window-options__select\"\r\n          onChange={this.onChange}\r\n        />\r\n        {value.openTo === 'no' ? null : <this.mosquitoNet />}\r\n      </label>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\n\r\nimport './Params.css';\r\nimport SelectInput from '../../SelectInput';\r\nimport RangeInput from '../../RangeInput/RangeInput';\r\nimport WindowOptions from '../WindowOptions/WindowOptions';\r\nimport { objToArr } from 'lib';\r\n\r\nexport default function Params(props) {\r\n  const inputs = generateInputs(props);\r\n\r\n  const { area, price, addToCart } = props;\r\n\r\n  return (\r\n    <div className=\"settings\">\r\n      <h2 className=\"subheading\">Параметры</h2>\r\n      {inputs}\r\n      <div className=\"settings__info\">\r\n        <p>\r\n          <strong>Площадь:</strong> {area.toFixed(2)} м<sup>2</sup>\r\n        </p>\r\n        <p>\r\n          <strong>Цена:</strong> {price.toFixed(2)}р.\r\n        </p>\r\n        <button className=\"settings__add-to-chart\" onClick={addToCart}>\r\n          Добавить в корзину\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction generateInputs(props) {\r\n  const { onChange, onWindowChange, params, fields } = props;\r\n\r\n  const inputs = [];\r\n\r\n  for (let key in fields) {\r\n    const field = fields[key];\r\n    const type = field.type;\r\n\r\n    const props = {\r\n      key,\r\n      field,\r\n      value: params[key],\r\n    };\r\n\r\n    if (type === 'range') {\r\n      inputs.push(getRangeInput(props, onChange));\r\n    } else if (type === 'select' && key === 'window') {\r\n      inputs.push(...getWindowInputs(props, onWindowChange));\r\n    } else if (type === 'select') {\r\n      inputs.push(getSelectInput(props, onChange));\r\n    }\r\n  }\r\n\r\n  return inputs;\r\n}\r\n\r\nfunction getRangeInput(props, onChange) {\r\n  const { key, field, value } = props;\r\n\r\n  const _props = {\r\n    name: key,\r\n    min: field.min,\r\n    max: field.max,\r\n    value,\r\n    onChange,\r\n  };\r\n\r\n  return (\r\n    <label key={key}>\r\n      {field.label}:\r\n      <RangeInput {..._props} />\r\n      мм\r\n    </label>\r\n  );\r\n}\r\n\r\nfunction getOptionsArray(values) {\r\n  return objToArr(values, (val, key) => ({\r\n    value: key,\r\n    text: val.text,\r\n  }));\r\n}\r\n\r\nfunction getSelectInput(props, onChange) {\r\n  const { key, field, value } = props;\r\n\r\n  const _props = {\r\n    name: key,\r\n    options: getOptionsArray(field.values),\r\n    value,\r\n    onChange,\r\n  };\r\n\r\n  return (\r\n    <label key={key}>\r\n      {field.label}\r\n      <SelectInput {..._props} className=\"settings__input\" />\r\n    </label>\r\n  );\r\n}\r\n\r\nfunction getWindowInputs(props, onChange) {\r\n  const { key, field, value } = props;\r\n\r\n  const options = getOptionsArray(field.values);\r\n  const inputs = [];\r\n\r\n  for (let i = 0; i < field.count; i++) {\r\n    const _props = {\r\n      key: `${key}_${i}`,\r\n      label: `${field.label} ${i + 1}`,\r\n      options,\r\n      value: value[i],\r\n      onChange: window => onChange(window, i),\r\n    };\r\n\r\n    inputs.push(<WindowOptions {..._props} />);\r\n  }\r\n\r\n  return inputs;\r\n}\r\n","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\n\r\nimport './ConfigurationPage.css';\r\nimport Blueprint from './Blueprint/Blueprint';\r\nimport Params from './Params/Params';\r\nimport PageLayout from '../PageLayout/PageLayout';\r\nimport { calcPrice, calcArea } from 'lib';\r\n\r\nclass ConfigurationPage extends Component {\r\n  state = {\r\n    params: null,\r\n    product: null,\r\n    type: null,\r\n  };\r\n\r\n  componentDidMount() {\r\n    axios\r\n      .get(`/api/products/${this.props.match.params.item}`)\r\n      .then(({ data }) => {\r\n        const product = data;\r\n        const fields = product.fields;\r\n        const type = fields.type;\r\n        delete fields.type;\r\n\r\n        if (fields.window) {\r\n          const val = fields.window.values;\r\n          const newVal = {};\r\n          newVal['no'] = val.blank;\r\n          newVal['tilt'] = val.tilt;\r\n\r\n          newVal['toLeft'] = { ...val.turn };\r\n          newVal['toLeft'].text = 'Поворотное влево';\r\n          newVal['toRight'] = { ...val.turn };\r\n          newVal['toRight'].text = 'Поворотное вправо';\r\n\r\n          newVal['tilt_toLeft'] = { ...val.tiltAndTurn };\r\n          newVal['tilt_toLeft'].text = 'Поворотно-откидное влево';\r\n          newVal['tilt_toRight'] = { ...val.tiltAndTurn };\r\n          newVal['tilt_toRight'].text = 'Поворотно-откидное вправо';\r\n\r\n          fields.window.values = newVal;\r\n        }\r\n\r\n        this.getPrice = calcPrice(fields);\r\n\r\n        const params = this.getDefaultParams(fields);\r\n        this.setState({ type, product, params }, () => console.log(this.state));\r\n      })\r\n      .catch(err => {\r\n        this.props.history.push('/');\r\n      });\r\n  }\r\n\r\n  getDefaultParams(fields) {\r\n    const values = {};\r\n\r\n    for (let key in fields) {\r\n      let field = fields[key];\r\n\r\n      let defValue = this.getDefaultValue(fields[key]);\r\n\r\n      if (key === 'window') {\r\n        defValue = Array.from({ length: field.count }, () => ({\r\n          openTo: defValue,\r\n          mosquitoNet: false,\r\n        }));\r\n      }\r\n\r\n      values[key] = defValue;\r\n    }\r\n\r\n    return values;\r\n  }\r\n\r\n  getDefaultValue(field) {\r\n    switch (field.type) {\r\n      case 'range':\r\n        return field.min;\r\n      case 'select':\r\n        return Object.keys(field.values)[0];\r\n      default:\r\n        return null;\r\n    }\r\n  }\r\n\r\n  onChange = e => {\r\n    const target = e.target;\r\n    const value = target.type === 'checkbox' ? target.checked : target.value;\r\n    const name = target.name;\r\n\r\n    const params = { ...this.state.params };\r\n    params[name] = value;\r\n\r\n    this.setState({ params });\r\n  };\r\n\r\n  onWindowChange = (window, id) => {\r\n    const params = { ...this.state.params };\r\n    const windows = [...params.window];\r\n    windows[id] = window;\r\n    params.window = windows;\r\n\r\n    this.setState({ params });\r\n  };\r\n\r\n  addToCart = () => {\r\n    this.props.addToCart({\r\n      params: this.state.params,\r\n      count: 1,\r\n      key: this.props.match.params.item,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    if (!this.state.product) return <PageLayout>Загрузка...</PageLayout>;\r\n    const { type, product, params } = this.state;\r\n    const { name, fields } = product;\r\n\r\n    const price = this.getPrice ? this.getPrice(params) : 0;\r\n    const area = calcArea(params);\r\n\r\n    return (\r\n      <PageLayout>\r\n        <div className=\"params-container\">\r\n          <h1 className=\"heading\">{name}</h1>\r\n\r\n          <div className=\"params__row\">\r\n            <Blueprint params={this.state.params} type={type} />\r\n            <Params\r\n              onChange={this.onChange}\r\n              onWindowChange={this.onWindowChange}\r\n              params={params}\r\n              fields={fields}\r\n              price={price}\r\n              area={area}\r\n              addToCart={this.addToCart}\r\n            />\r\n          </div>\r\n        </div>\r\n      </PageLayout>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ConfigurationPage;\r\n","import React from 'react';\r\nimport './Login.css';\r\n\r\nexport default function Login(props) {\r\n  return (\r\n    <div className=\"login__wrapper\">\r\n      <form className=\"login__form\">\r\n        <h2>Войти</h2>\r\n        <label>\r\n          <h5>Пароль</h5>\r\n          <input type=\"password\" className=\"login__input\" />\r\n        </label>\r\n        <button className=\"login__btn\">Войти</button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n","import React, { Suspense } from 'react';\r\nimport { Route, Switch } from 'react-router-dom';\r\n\r\nimport Login from './Login/Login';\r\nconst AdminPage = React.lazy(() => import('./AdminPage/AdminPage'));\r\n\r\nexport default function Admin(props) {\r\n  const matchUrl = props.match.url;\r\n\r\n  // Если не залогинился - перенаправить на страницу логина\r\n  // Если залогинился - перенаправить на страницу с ценами\r\n\r\n  return (\r\n    <div>\r\n      <Suspense fallback=\"Загрузка...\">\r\n        <Switch>\r\n          <Route path={matchUrl + '/login'} component={Login} />\r\n          <Route path={matchUrl + '/'} component={AdminPage} />\r\n        </Switch>\r\n      </Suspense>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport './ProductCard.css';\r\nimport BlueprintCanvas from '../ConfigurationPage/Blueprint/BlueprintCanvas';\r\nimport { deepCopy } from 'lib';\r\n\r\nexport default function ProductCard(props) {\r\n  const { name, cost, params, count, type } = props;\r\n  const paramsForCanvas = deepCopy(props.params);\r\n\r\n  paramsForCanvas.height = paramsForCanvas.height.value.value;\r\n  paramsForCanvas.width = paramsForCanvas.width.value.value;\r\n\r\n  if (paramsForCanvas.window) {\r\n    paramsForCanvas.window = paramsForCanvas.window.value.value;\r\n  }\r\n\r\n  return (\r\n    <div className=\"product-card\">\r\n      <div className=\"product-card__info\">\r\n        <div className=\"product-card__header\">\r\n          <h2 className=\"product-card__name\">{name}</h2>\r\n          <button className=\"product-card__button\">Изменить</button>\r\n          <button className=\"product-card__button\">Удалить</button>\r\n        </div>\r\n        <ul className=\"product-card__params\">\r\n          <ParamsList params={params} />\r\n        </ul>\r\n        <div className=\"product-card__final-info\">\r\n          <span>\r\n            <strong>Стоимость:</strong> {cost} руб.\r\n          </span>\r\n          <span className=\"final-info__count\">\r\n            <strong>Количество:</strong> {count}\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <div className=\"product-card__image\">\r\n        <BlueprintCanvas\r\n          params={paramsForCanvas}\r\n          type={type}\r\n          resolution=\"600\"\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction ParamsList({ params }) {\r\n  const items = [];\r\n\r\n  for (let key in params) {\r\n    const param = params[key];\r\n\r\n    if (!Array.isArray(param.value.value)) {\r\n      items.push(\r\n        <li key={key}>\r\n          <strong>{param.name}:</strong> {param.value.text}\r\n        </li>,\r\n      );\r\n      continue;\r\n    }\r\n\r\n    items.push(\r\n      param.value.value.map((el, id) => {\r\n        return (\r\n          <li key={key + id}>\r\n            <strong>{`${param.name} ${id + 1}`}:</strong> {el.openTo},{' '}\r\n            {el.mosquitoNet ? 'с москитной сеткой' : 'без москитной сетки'}\r\n          </li>\r\n        );\r\n      }),\r\n    );\r\n  }\r\n\r\n  return items;\r\n}\r\n","import React, { useEffect, useContext, useState } from 'react';\r\nimport PageLayout from '../PageLayout/PageLayout';\r\nimport ProductCard from '../ProductCard/ProductCard';\r\n\r\nimport './Cart.css';\r\n\r\nimport axios from 'axios';\r\n\r\nimport cartContext from '../../cartContext';\r\nimport { arrToObj as arrayToObject, calcArea, calcPrice } from 'lib';\r\n\r\nexport default function Cart() {\r\n  const cart = useContext(cartContext);\r\n  const [products, setProducts] = useState(null);\r\n\r\n  const keys = [];\r\n  cart.cart.forEach(product => {\r\n    if (!keys.includes(product.key)) keys.push(product.key);\r\n  });\r\n\r\n  useEffect(() => {\r\n    axios.get('/api/products?extended=1').then(({ data }) => {\r\n      data.forEach(product => {\r\n        const fields = product.fields;\r\n        if (fields.window) {\r\n          const val = fields.window.values;\r\n          const newVal = {};\r\n          newVal['no'] = val.blank;\r\n          newVal['tilt'] = val.tilt;\r\n\r\n          newVal['toLeft'] = { ...val.turn };\r\n          newVal['toLeft'].text = 'Поворотное влево';\r\n          newVal['toRight'] = { ...val.turn };\r\n          newVal['toRight'].text = 'Поворотное вправо';\r\n\r\n          newVal['tilt_toLeft'] = { ...val.tiltAndTurn };\r\n          newVal['tilt_toLeft'].text = 'Поворотно-откидное влево';\r\n          newVal['tilt_toRight'] = { ...val.tiltAndTurn };\r\n          newVal['tilt_toRight'].text = 'Поворотно-откидное вправо';\r\n\r\n          fields.window.values = newVal;\r\n        }\r\n      });\r\n\r\n      setProducts(arrayToObject(data, el => el.product_key));\r\n    });\r\n  }, keys);\r\n\r\n  let sum = 0;\r\n\r\n  function porductCards() {\r\n    return cart.cart.map((prod, id) => {\r\n      const product = products[prod.key];\r\n      const productParams = {\r\n        name: product.name,\r\n        count: prod.count,\r\n        type: product.fields.type,\r\n        params: {},\r\n      };\r\n      const fields = product.fields;\r\n\r\n      const cost = +calcPrice(fields)(prod.params).toFixed(2);\r\n\r\n      productParams.cost = cost;\r\n      sum += cost * productParams.count;\r\n\r\n      for (let key in prod.params) {\r\n        const value = prod.params[key];\r\n        const param = {\r\n          name: fields[key].label,\r\n          value: {\r\n            text:\r\n              fields[key].values && fields[key].values[value]\r\n                ? fields[key].values[value].text || value\r\n                : value,\r\n            value,\r\n          },\r\n        };\r\n        productParams.params[key] = param;\r\n      }\r\n\r\n      const area = calcArea(prod.params);\r\n      productParams.params.area = {\r\n        name: 'Площадь',\r\n        value: {\r\n          text: area,\r\n          value: area,\r\n        },\r\n      };\r\n\r\n      return (\r\n        <React.Fragment key={id}>\r\n          <hr />\r\n          <ProductCard {...productParams} />\r\n        </React.Fragment>\r\n      );\r\n    });\r\n  }\r\n\r\n  if (cart.cart.length === 0)\r\n    return (\r\n      <PageLayout>\r\n        <h1 className=\"heading\">Корзина (пусто)</h1>\r\n        Вы не выбрали ни одного товара.\r\n      </PageLayout>\r\n    );\r\n\r\n  return (\r\n    <PageLayout>\r\n      <h1 className=\"heading\">Корзина ({cart.cart.length})</h1>\r\n\r\n      {products ? porductCards() : 'Загрузка...'}\r\n      <hr />\r\n      <div className=\"cart-footer\">\r\n        <div className=\"cart-footer__cost\">\r\n          <strong>Итого:</strong> {sum} руб.\r\n        </div>\r\n        <button className=\"btn\">Оформить заказ</button>\r\n      </div>\r\n    </PageLayout>\r\n  );\r\n}\r\n","import React, { Component } from 'react';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\n\nimport MainPage from './MainPage/MainPage';\nimport ConfigurationPage from './ConfigurationPage/ConfigurationPage';\nimport Admin from './Admin/Admin';\nimport Cart from './Cart/Cart';\n\nimport cartContext from '../cartContext';\n\nclass App extends Component {\n  state = {\n    cart: [],\n    editId: -1,\n  };\n\n  addToCart = product => {\n    this.setState({\n      cart: [...this.state.cart, product],\n      editId: -1,\n    });\n  };\n\n  render() {\n    return (\n      <div className=\"App\">\n        <cartContext.Provider value={this.state}>\n          <BrowserRouter>\n            <>\n              <Switch>\n                <Route path=\"/admin\" component={Admin} />\n                <Route path=\"/cart\" component={Cart} />\n                <Route\n                  path=\"/:item\"\n                  render={props => (\n                    <ConfigurationPage {...props} addToCart={this.addToCart} />\n                  )}\n                />\n                <Route path=\"/\" component={MainPage} />\n              </Switch>\n            </>\n          </BrowserRouter>\n        </cartContext.Provider>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './variables.css';\nimport './index.css';\nimport App from './Components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}